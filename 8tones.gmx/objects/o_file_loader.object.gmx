<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///read the project folder
LIST = ds_list_create();

var file_name;
if (os_type == os_winphone) || (os_type == os_windows)
{
    file_name = file_find_first("projects\*.8t",0);
}
else
{
    file_name = file_find_first("projects\*",0);
    /*if (os_type == os_android)
    {
        if (file_exists('/storage/sdcard0/Documents/SmL2sTaRmaZe.8t'))
        {
            file_copy('/storage/sdcard0/Documents/SmL2sTaRmaZe.8t','projects\starmaze');
        }
    }*/
}
while (file_name != "")
{
    var _fn;
    _fn = file_name;
    if (os_type == os_windows) || (os_type == os_winphone)
    {
        ds_list_add(LIST,string_delete(_fn,string_length(_fn)-2,3));
    }
    else
    {
        ds_list_add(LIST,_fn);
    }
    file_name = file_find_next();
}
file_find_close();

//search examples (Android)
/*if (os_type == os_android)
{
    file_name = file_find_first(program_directory+"projects\*",0);
    while (file_name != "")
    {
        var _fn;
        _fn = file_name;
        ds_list_add(LIST,_fn);
        file_name = file_find_next();
    }
}
file_find_close();*/

x1 = -room_width;
x2 = -room_width;
alpha = 1;
done = 0;

scroll_y = 0;
click = 0;
action = 0;

need2delete = 0;
_dialog = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///init scrolling stuffs
var filecount;
filecount = ds_list_size(LIST);

xxx = 0;
yyy = 0;
lasty = 0;
scroll = 0;
scroll_speed = 0;
_click = 0;
added = 0;
_my = 0;
scroll_limit = -((filecount*28)-room_height+8+84);
scrollbar_height = 24;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///confirm to delete file
var filecount;
filecount = ds_list_size(LIST);

if (device_mouse_check_button(0,mb_left)) &amp;&amp; (done == 1) &amp;&amp; (scroll == 0)
{
    //load file
    if (filecount &gt; 0)
    {
        var _fi, RAW;
        for (_fi = 0; _fi &lt; filecount; _fi += 1)
        {
            if (click == _fi+1)//(device_mouse_y(0) &gt; ((84-4)+scroll_y)+(_fi*28))
            //&amp;&amp; (device_mouse_y(0) &lt; ((84+12)+scroll_y)+(_fi*28))
            //&amp;&amp; (device_mouse_y(0) &gt; 78)
            //&amp;&amp; (click == _fi+1)
            {
                var _ask;
                need2delete = ds_list_find_value(LIST,_fi);
                done = 999;
                _ask = instance_create(0,0,o_question);
                _ask.question = 'Are you sure you want to#delete "'+self.need2delete+'"?';
                _ask.goal = 1;
                //_dialog = show_question_async('Are you sure you want to delete "'+need2delete+'"?');
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///entrance animation
if (x1 &lt; 0) &amp;&amp; (done == 0)
{
    x1 += max(abs(-x1)*0.2,1);
}
if (x2 &lt; 0) &amp;&amp; (done == 0)
{
    x2 += max(abs(-x2)*0.1,1);
}
if (alpha &lt; 1) &amp;&amp; (done == 0)
{
    alpha += 0.05;
}

if (alpha &gt;= 1) &amp;&amp; (x1 &gt;= 0) &amp;&amp; (x2 &gt;= 0) &amp;&amp; (done == 0)
{
    done = 1;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///clicky
var filecount;
filecount = ds_list_size(LIST);

if (device_mouse_check_button_pressed(0,mb_left)) &amp;&amp; (done == 1) &amp;&amp; (scroll == 0) &amp;&amp; !(instance_exists(o_question))
{
    scroll_speed = 0;
    //click to load file
    if (filecount &gt; 0) &amp;&amp; (device_mouse_y(0) &gt; 78) &amp;&amp; (click == 0)
    {
        var _fi;
        for (_fi = 0; _fi &lt; filecount; _fi += 1)
        {
            if (device_mouse_y(0) &gt; ((84-8)+scroll_y)+(_fi*28))
            &amp;&amp; (device_mouse_y(0) &lt; ((84+20)+scroll_y)+(_fi*28))
            {
                click = _fi+1;
                alarm[0] = 70;
                yyy = device_mouse_y(0);
                xxx = device_mouse_x(0);
                _my = device_mouse_y(0)-scroll_y;
                lasty = device_mouse_y(0);
            }
        }
    }
    
    //click to create file
    if (device_mouse_y(0) &lt; 76)
    &amp;&amp; (device_mouse_y(0) &gt; 48)
    {
        click = -1;
    }
    
    //back button
    if (device_mouse_x(0) &gt; room_width-48)
    &amp;&amp; (device_mouse_y(0) &lt; 56)
    {
        click = -2;
    }
}

if (device_mouse_check_button_released(0,mb_left)) &amp;&amp; (done == 1) &amp;&amp; (scroll == 0) &amp;&amp; !(instance_exists(o_question))
{
    //load file
    if (filecount &gt; 0)
    {
        var _fi, RAW;
        for (_fi = 0; _fi &lt; filecount; _fi += 1)
        {
            if (click == _fi+1)//(device_mouse_y(0) &gt; ((84-4)+scroll_y)+(_fi*28))
            //&amp;&amp; (device_mouse_y(0) &lt; ((84+12)+scroll_y)+(_fi*28))
            //&amp;&amp; (device_mouse_y(0) &gt; 78)
            //&amp;&amp; (click == _fi+1)
            {
                RAW = ds_list_find_value(LIST,_fi);
                global.load_file = RAW;
                done = 2;
                action = 1;
                scroll = 0;
            }
        }
    }
    
    //new file
    if (device_mouse_y(0) &gt; 48)
    &amp;&amp; (device_mouse_y(0) &lt; 76)
    &amp;&amp; (click == -1)
    {
        done = 2;
        scroll = 0;
        global.load_file = "";
        action = 1;
    }
    
    //BACK
    if (device_mouse_x(0) &gt; room_width-48)
    &amp;&amp; (device_mouse_y(0) &lt; 56)
    &amp;&amp; (click == -2)
    {
        done = 2;
        scroll = 0;
        action = 2;
    }
    click = 0;
    alarm[0] = -1;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///scrolling
var filecount;
filecount = ds_list_size(LIST);

//start scrolling if mouse moved
if ((device_mouse_y(0) &lt; yyy-3) || (device_mouse_y(0) &gt; yyy+3)) &amp;&amp; (scroll == 0) &amp;&amp; (click &gt; 0) &amp;&amp; (filecount &gt; 12) &amp;&amp; !(instance_exists(o_question))
{
    scroll = 1;
    click = 0;
}

//scrolling stuffs
if (scroll == 1) &amp;&amp; !(instance_exists(o_question))
{
    if (device_mouse_y(0)-_my &gt;= scroll_limit) &amp;&amp; (device_mouse_y(0)-_my &lt;= 0)
    {
        scroll_y = device_mouse_y(0)-_my;
        scroll_speed = (device_mouse_y(0)-lasty);
        if (scroll_speed &gt; 20)
        {
            scroll_speed = 20;
        }
        if (scroll_speed &lt; -20)
        {
            scroll_speed = -20;
        }
        lasty = device_mouse_y(0);
    }
    else if (device_mouse_y(0)-_my &lt;= scroll_limit)
    {
        scroll_y = scroll_limit;
    }
    else if (device_mouse_y(0)-_my &gt;= 0)
    {
        scroll_y = 0;
    }
}

//turn off scrolling when mouse released
if !(device_mouse_check_button(0,mb_left)) &amp;&amp; (scroll == 1)
{
    scroll = 0;
}

if !(device_mouse_check_button(0,mb_left)) &amp;&amp; (scroll &lt;&gt; 1) &amp;&amp; !(instance_exists(o_question))
{
    if (scroll_speed &lt;&gt; 0)
    {
        if (scroll_speed &gt; 0.2)
        {
            scroll_speed -= 0.2;
        }
        else if (scroll_speed &lt; -0.2)
        {
            scroll_speed += 0.2;
        }
        else
        {
            scroll_speed = 0;
        }
        scroll_y += scroll_speed;
        if (scroll_y &lt;= scroll_limit)
        {
            scroll_y = scroll_limit;
            scroll_speed = 0;
        }
        else if (scroll_y &gt;= 0)
        {
            scroll_y = 0;
            scroll_speed = 0;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///exit animation
if (x1 &lt; room_width) &amp;&amp; (done == 2)
{
    x1 += max((room_width-x1)*0.1,2);
}
if (x2 &lt; room_width) &amp;&amp; (done == 2)
{
    x2 += max((room_width-x2)*0.2,2);
}
if (alpha &gt; 0) &amp;&amp; (done == 2)
{
    alpha -= 0.05;
}

if (alpha &lt;= 0) &amp;&amp; (x1 &gt;= room_width) &amp;&amp; (x2 &gt;= room_width) &amp;&amp; (done == 2)
{
    alpha = 0;
    x1 = room_width;
    x2 = room_width;
    done = 3;
    event_user(0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///PC USER: scroll down
if (scroll_speed &gt; -20)
{
    scroll_speed -= 10;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///PC USER: scroll up
if (scroll_speed &lt; 20)
{
    scroll_speed += 10;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="63">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///dialog thingy
var _DIALOG;
_DIALOG = ds_map_find_value(async_load,"id");

//confirm deletion
if (_DIALOG == _dialog) &amp;&amp; (_dialog != 0)
{
    if (ds_map_find_value(async_load,"status"))
    {
        if (file_exists("projects\"+need2delete+".8t"))
        {
            file_delete("projects\"+need2delete+".8t");
        }
        action = 3;
        done = 2;
    }
    else
    {
        action = 3;
        done = 2;
    }
}

else
{
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///exit actions
if (action == 1)
{
    room_goto(rm_maker);
}
if (action == 2)
{
    room_goto(rm_title);
}
if (action == 3)
{
    room_restart();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///render loader thingy
//count how many files to render
var filecount;
filecount = ds_list_size(LIST);

//render list of files
if (filecount &gt; 0)
{
    var _fi, FILE, RAW;
    draw_set_color(global.text_white);
    draw_set_font(ft_gb);
    for (_fi = 0; _fi &lt; filecount; _fi += 1)
    {
        RAW = ds_list_find_value(LIST,_fi);
        if (string_length(RAW) &gt; 17)
        {
            FILE = string_copy(RAW,0,17)+"...";
        }
        else
        {
            FILE = RAW;
        }
        draw_text(12+x2,84+scroll_y+(_fi*28),FILE);
        if (click == _fi+1) &amp;&amp; (scroll == 0)
        {
            draw_set_color(global.accent_color[global.accent]);
            draw_text(12+x2,84+scroll_y+(_fi*28),FILE);
            draw_set_color(global.text_white);
        }
    }
}
else
{
    draw_set_color(global.text_disabled);
    draw_set_halign(fa_center);
    draw_set_font(ft_gb_xs);
    draw_text((room_width*0.5)+x2,96,"Looks like you don't#have any music#projects yet!##Tap &lt;New Project&gt;#to start one!");
    draw_set_halign(fa_left);
}
draw_set_color(global.text_white);
draw_set_alpha(1);

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///render title+new project
//hide scrolled contents
if (global.background == 1)
{
    draw_set_color($FFFFFF);
}
else
{
    draw_set_colour($000000);
}
draw_rectangle(0,0,room_width,84,0);

//title text
draw_set_color(global.text_white);
draw_set_font(ft_gb_xs);
draw_set_font(ft_gb_xxl);
draw_set_alpha(alpha);
draw_text(8+x1,16,"PROJECTS");

//new project text
draw_set_color(global.text_white);
draw_set_font(ft_gb);
if (click &lt;&gt; -1)
{
    draw_set_alpha(0.7*alpha);
}
else
{
    draw_set_alpha(0.5*alpha);
}
draw_text(8+x1,56,"New Project");
draw_set_alpha(alpha);

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///render back button
//highlight
draw_set_color(global.accent_color[global.accent]);
if (click == -2)
{
    draw_circle(room_width-24,32,15,0);
}
//button
draw_sprite_ext(s_back,global.background,room_width-40+x1,16,1,1,0,$FFFFFF,alpha);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///DEBUG PURPOSE
//draw_set_color($0000FF);
//draw_text(0,0,'alarm[0] = '+string(alarm[0]));
//draw_text(0,20,'click = '+string(click));
//draw_set_color($FFFFFF);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///back button exit this screen
if (click == 0)
{
    action = 2;
    done = 2;
    scroll = 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
